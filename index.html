<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä‡∂ö‡∂ª‡∂´ ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫ - ‡∂∏‡∑ú/‡∂ú‡∂∏‡∑ä‡∂¥‡∂Ç‡∂ú‡∑î‡∑Ä ‡∂ö‡∂±‡∑í‡∑Ç‡∑ä‡∂® ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∂Ω‡∂∫</title>
    
    <!-- External Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="loading-overlay">‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∑É‡∑ê‡∂ö‡∑É‡∑ô‡∂∏‡∑í‡∂±‡∑ä ‡∂¥‡∑Ä‡∂≠‡∑ì... ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂ª‡∑ê‡∂≥‡∑ì ‡∑É‡∑í‡∂ß‡∑í‡∂±‡∑ä‡∂±.</div>
<div id="toast" class="toast">‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∑É‡∑î‡∂ª‡∑ê‡∂ö‡∑í‡∂´‡∑í! ‚úÖ</div>

<!-- Confirmation Dialog -->
<div id="confirmDialog" class="confirm-dialog">
    <div class="confirm-content">
        <h3 id="confirmTitle" style="color: var(--primary); margin-top: 0;"></h3>
        <p id="confirmMessage"></p>
        <div class="confirm-buttons">
            <button id="confirmYes" class="btn" style="background: var(--danger); color: white; min-width: 100px;">‡∂î‡∑Ä‡∑ä</button>
            <button id="confirmNo" class="btn" style="background: var(--secondary); color: white; min-width: 100px;">‡∂±‡∑ê‡∂≠</button>
        </div>
    </div>
</div>

<!-- Code Details Modal -->
<div id="codeDetailsModal" class="code-details-modal">
    <div class="code-details-content">
        <div class="code-details-header">
            <h3 id="modalCodeTitle" style="margin: 0;">‡∂ö‡∑ö‡∂≠‡∂∫‡∑ö ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª</h3>
            <button class="close-modal-btn" onclick="closeCodeDetails()">√ó</button>
        </div>
        <div id="codeDetailsContent"></div>
    </div>
</div>

<div id="login-overlay">
    <div class="card" style="text-align:center; width: 380px; padding: 50px;">
        <h2 style="color:var(--primary); margin-bottom: 5px; font-size: 28px;">‡∂∏‡∑ñ‡∂Ω‡∑ä‚Äç‡∂∫ ‡∂ö‡∑Ö‡∂∏‡∂±‡∑è‡∂ö‡∂ª‡∂´ ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫</h2>
        <p style="color: #666; margin-bottom: 30px;">‡∂∏‡∑ú/‡∂ú‡∂∏‡∑ä‡∂¥‡∂Ç‡∂ú‡∑î‡∑Ä ‡∂ö‡∂±‡∑í‡∑Ç‡∑ä‡∂® ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∂Ω‡∂∫</p>
        <input type="password" id="passInput" placeholder="‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫ ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±" style="text-align:center; margin-bottom:20px; font-size: 10px;">
        <button class="btn" style="width:100%; background: var(--primary); color: var(--gold);" onclick="checkLogin()">‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫‡∂ß ‡∂á‡∂≠‡∑î‡∑Ö‡∑î ‡∑Ä‡∂±‡∑ä‡∂±</button>
        <div style="margin-top:30px;">
            <span style="color:var(--primary); font-weight: bold; font-size: 14px;">Created by: Tharanga Wijesinghe</span>
        </div>
    </div>
</div>

<div class="sidebar no-print">
    <div class="sidebar-header">‡∂∏‡∑ú/‡∂ú‡∂∏‡∑ä‡∂¥‡∂Ç‡∂ú‡∑î‡∑Ä ‡∂ö‡∂±‡∑í‡∑Ç‡∑ä‡∂® ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∂Ω‡∂∫</div>
    <div id="connection-status" class="status-glow-offline">‡∑É‡∂∏‡∑ä‡∂∂‡∂±‡∑ä‡∂∞‡∂≠‡∑è‡∑Ä‡∂∫ ‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∂ª‡∂∏‡∑í‡∂±‡∑ä ‡∂¥‡∑Ä‡∂≠‡∑ì...</div>
    <div style="padding-top: 10px;">
        <a class="nav-link active" id="nav-dash" onclick="showSec('dash')"><i class="fas fa-chart-bar"></i>  ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∂¥‡∑î‡∑Ä‡∂ª‡∑î‡∑Ä</a>
        <a class="nav-link staff-only" id="nav-entry" onclick="showSec('entry')"><i class="fas fa-edit"></i>  ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂á‡∂≠‡∑î‡∑Ö‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏</a>
        <a class="nav-link" id="nav-cashbook" onclick="openReport('CASHBOOK')"><i class="fas fa-book"></i>  ‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂¥‡∑ú‡∂≠</a>
        <a class="nav-link" id="nav-inc" onclick="openReport('IN')"><i class="fas fa-chart-line"></i>  ‡∂Ω‡∑ê‡∂∂‡∑ì‡∂∏‡∑ä ‡∑Ä‡∑í‡∑Å‡∑ä‡∂Ω‡∑ö‡∑Ç‡∂´ ‡∑Ä‡∑è‡∂ª‡∑ä‡∂≠‡∑è</a>
        <a class="nav-link" id="nav-exp" onclick="openReport('EX')"><i class="fas fa-chart-pie"></i>  ‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ä ‡∑Ä‡∑í‡∑Å‡∑ä‡∂Ω‡∑ö‡∑Ç‡∂´ ‡∑Ä‡∑è‡∂ª‡∑ä‡∂≠‡∑è</a>
        <a class="nav-link" id="nav-quarter" onclick="openReport('QUARTER')"><i class="fas fa-calendar-alt"></i>  ‡∑É‡∑í‡∑Ä‡∑ä‡∂∏‡∑É‡∑ä ‡∑Ä‡∑è‡∂ª‡∑ä‡∂≠‡∑è‡∑Ä</a>
        <a class="nav-link" id="nav-bank" onclick="openReport('BANK')"><i class="fas fa-university"></i>  ‡∂∂‡∑ê‡∂Ç‡∂ö‡∑î ‡∑É‡∑ê‡∑É‡∂≥‡∑î‡∂∏ ‡∂¥‡∑ä‚Äç‡∂ª‡∂ö‡∑è‡∑Å‡∂∫</a>
        <a class="nav-link staff-only" id="nav-proj" onclick="showSec('proj')"><i class="fas fa-project-diagram"></i>  ‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑ò‡∂≠‡∑í ‡∂ö‡∑Ö‡∂∏‡∂±‡∑è‡∂ö‡∂ª‡∂´‡∂∫</a>
      <!-- ‡∂±‡∑Ä ‡∂∏‡∑ô‡∂±‡∑î ‡∂Ö‡∂∫‡∑í‡∂≠‡∂∏‡∂∫ ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂ë‡∂ö‡∂≠‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂± -->
		<a class="nav-link" id="nav-variance" onclick="openReport('VARIANCE')">
		<i class="fas fa-balance-scale"></i> ‡∂Ö‡∂∫‡∑Ä‡∑ê‡∂∫ ‡∑É‡∑ê‡∑É‡∂≥‡∑î‡∂∏
		</a>
<!-- ‡∂∏‡∑ô‡∂∫ ‡∂ë‡∂ö‡∂≠‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂± -->
<a class="nav-link" id="nav-codes" onclick="showSec('codes')">
    <i class="fas fa-file-alt"></i> ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä ‡∂ö‡∑ö‡∂≠ ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª‡∂∫
</a>
        <a class="nav-link" onclick="manualRefresh()" style="
    background: var(--deep-blue); 
    color: white; 
    margin-top: 10px; 
    border-left: 5px solid var(--gold); 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    padding: 8px 25px; 
    border-radius: 10px; 
    cursor: pointer; 
    transition: all 0.3s;
    gap: 15px; /* ‡∂Ö‡∂ö‡∑î‡∂ª‡∑î ‡∑É‡∑Ñ ‡∑É‡∑í‡∂Ç‡∂∂‡∂Ω‡∑ä ‡∂Ö‡∂≠‡∂ª ‡∂Ø‡∑î‡∂ª */
">
    <i class="fas fa-sync-alt" style="font-size: 14px;"></i>
    <span style="font-size: 14px; font-weight: bold;">‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂Ö‡∂Ω‡∑î‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</span>
</a>
        </a>
        
       <div style="margin-top: 10px; border-top: 2px solid var(--gold); padding: 10px 5px;">
            <div style="display: flex; gap: 5px; justify-content: center;">
                <button class="backup-btn" style="flex: 1; margin: 0;" onclick="downloadBackupJSON()">
                    <i class="fas fa-database"></i> üíΩ JSON BACKUP
                </button>
                <button class="backup-btn" style="flex: 1; margin: 0;" onclick="downloadBackupCSV()">
                    <i class="fas fa-file-csv"></i> üìú CSV DOWNLOAD
                </button>
            </div>
        </div>
            
    </div>
    
    <div style="padding: 20px;">
        <button class="btn" style="background:var(--danger); color:white; width:100%;" onclick="location.reload()">
            <i class="fas fa-sign-out-alt"></i> LOGOUT
        </button>
    </div>
    
    <div class="creator-brand">
        <span class="creator-sub">Designed & Developed by</span>
        <span class="creator-name">THARANGA WIJESINGHE</span>
        <span class="creator-sub">¬© 2025 All Rights Reserved</span>
    </div>
</div>

<div class="main-content">
    <div class="school-header-banner">
        <h1 style="font-size: 60px; margin: 0;">‡∂∏‡∑ú/‡∂ú‡∂∏‡∑ä‡∂¥‡∂Ç‡∂ú‡∑î‡∑Ä ‡∂ö‡∂±‡∑í‡∑Ç‡∑ä‡∂® ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∂Ω‡∂∫</h1>
        <div style="margin-top: 10px; font-size: 30px; letter-spacing: 3px; opacity: 0.8;">‡∂∏‡∑ñ‡∂Ω‡∑ä‚Äç‡∂∫ ‡∂ö‡∑Ö‡∂∏‡∂±‡∑è‡∂ö‡∂ª‡∂´ ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫</div>
    </div>

    <div id="sec-report" class="section" style="display:none;">
        <div id="printable-area" class="card">
            <div class="report-school-name">
                <h1>‡∂∏‡∑ú/‡∂ú‡∂∏‡∑ä‡∂¥‡∂Ç‡∂ú‡∑î‡∑Ä ‡∂ö‡∂±‡∑í‡∑Ç‡∑ä‡∂® ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∂Ω‡∂∫</h1>
                <p>‡∂∏‡∑ñ‡∂Ω‡∑ä‚Äç‡∂∫ ‡∑Ä‡∑è‡∂ª‡∑ä‡∂≠‡∑è‡∂ö‡∂ª‡∂´‡∂∫</p>
                <hr>
            </div>
            <h2 id="report-header-title" style="text-align:center; color: var(--primary);"></h2>
            <p id="report-date-range" style="text-align:center; font-weight:bold;"></p>
            <div id="report-content"></div>
            <div class="no-print" style="margin-top:30px; display:flex; gap:15px; background:#f9f9f9; padding:25px; border-radius:15px; border: 1px solid #eee; align-items: flex-end; flex-wrap: wrap;">
                <div class="field"><label>‡∑É‡∑í‡∂ß</label><input type="date" id="repFrom"></div>
                <div class="field"><label>‡∂Ø‡∂ö‡∑ä‡∑Ä‡∑è</label><input type="date" id="repTo"></div>
                <div class="field" id="filter-box" style="display:none;"><label>‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä ‡∂ö‡∑ö‡∂≠‡∂∫</label><select id="repFilter"></select></div>
                <div class="field" id="bank-bal-box" style="display:none;">
                    <label>‡∂∂‡∑ê‡∂Ç‡∂ö‡∑î ‡∂¥‡∑ä‚Äç‡∂ª‡∂ö‡∑è‡∑Å‡∂∫‡∑ö ‡∑Å‡∑ö‡∑Ç‡∂∫</label>
                    <input type="text" id="bankStmtInput" placeholder="0.00" oninput="formatAmount(this)" onblur="generateReport()">
                </div>
                <div class="button-container">
                    <button class="btn" style="background: var(--primary); color: var(--gold);" onclick="generateReport()">
                        <i class="fas fa-cog"></i> ‡∑Ä‡∑è‡∂ª‡∑ä‡∂≠‡∑è‡∑Ä ‡∑É‡∂ö‡∑É‡∂±‡∑ä‡∂±
                    </button>
                    <button class="btn" id="print-btn" style="background: var(--secondary); color: white;" onclick="window.print()">
                        <i class="fas fa-print"></i> Print Report
                    </button>
                    <button class="btn pdf-export-btn" id="pdf-btn" style="background: #e74c3c; color: white;" onclick="exportToPDF()">
                        <i class="fas fa-file-pdf"></i> üìÑ PDF
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="sec-dash" class="section">
        <h2 class="section-title">‡∑Ä‡∂≠‡∑ä‡∂∏‡∂±‡∑ä ‡∂∏‡∑ñ‡∂Ω‡∑ä‚Äç‡∂∫ ‡∂≠‡∂≠‡∑ä‡∂≠‡∑ä‡∑Ä‡∂∫</h2>
        <div class="stat-grid">
            <div class="stat-card" style="background: var(--primary);">
                <h5>‡∂∏‡∑î‡∑Ö‡∑î ‡∂Ω‡∑ê‡∂∂‡∑ì‡∂∏‡∑ä (DR)</h5>
                <h2 id="dash-in">0.00</h2>
            </div>
            <div class="stat-card" style="background: #a5d6a7; color: #1b5e20;">
                <h5>‡∂∏‡∑î‡∑Ö‡∑î ‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ä (CR)</h5>
                <h2 id="dash-ex">0.00</h2>
            </div>
            <div class="stat-card" style="background: var(--accent); color: #1b5e20;">
                <h5>‡∂¥‡∑Ä‡∂≠‡∑ä‡∂±‡∑è ‡∑Å‡∑ö‡∑Ç‡∂∫</h5>
                <h2 id="dash-bal">0.00</h2>
            </div>
        </div>
        <div class="card" style="background: #fff; border-top: 4px solid var(--accent);">
    <h3 style="text-align: center; color: var(--primary); margin-bottom: 15px; font-size: 18px; font-weight: 900; padding-bottom: 10px; border-bottom: 1px solid #eee;">
        ‡∂Ö‡∂ª‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂Ö‡∂±‡∑î‡∑Ä ‡∑Ä‡∂≠‡∑ä‡∂∏‡∂±‡∑ä ‡∑Å‡∑ö‡∑Ç‡∂∫‡∂±‡∑ä
    </h3>
    <div class="fund-grid" id="dash-funds"></div>
</div>

    <div id="sec-entry" class="section" style="display:none;">
        <h2 class="section-title">‡∂±‡∑Ä ‡∂ú‡∂±‡∑î‡∂Ø‡∑ô‡∂±‡∑î ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏</h2>
        <div class="form-row">
            <div class="card field" style="border-top: 8px solid var(--success); flex: 1; min-width: 300px;">
                <h3 style="color:var(--success); margin-top: 0;"><i class="fas fa-plus-circle"></i> ‡∂Ω‡∑ê‡∂∂‡∑ì‡∂∏‡∑ä (‡∑Ñ‡∂ª)</h3>
                <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <p style="margin: 0; font-size: 14px; color: #2e7d32;">‚ö†Ô∏è ‡∑É‡∑í‡∂∫‡∑Ö‡∑î‡∂∏ ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±...</p>
                </div>
                <input type="hidden" id="edit-id-in">
                <div class="form-row">
                    <div class="field"><label class="required">‡∂Ø‡∑í‡∂±‡∂∫</label><input type="date" id="inDate"></div>
                    <div class="field"><label class="required">‡∂Ω‡∂Ø‡∑î‡∂¥‡∂≠‡∑ä ‡∂Ö‡∂Ç‡∂ö‡∂∫</label><input type="text" id="inRef"></div>
                </div>
                <div class="form-row">
                    <div class="field"><label class="required">‡∂Ω‡∑ê‡∂∂‡∑ì‡∂∏‡∑ä ‡∂ö‡∑ö‡∂≠‡∂∫</label><select id="inCodeSelect"></select></div>
                    <div class="field"><label class="required">‡∂∏‡∑î‡∂Ø‡∂Ω (‡∂ª‡∑î.)</label><input type="text" id="inAmt" class="amount-input" pattern="[0-9]*\.?[0-9]{0,2}" oninput="formatAmount(this)"></div>
                </div>
                <div class="field" style="margin-bottom: 15px;"><label>‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑ò‡∂≠‡∑í‡∂∫</label><select id="inProjSelect"></select></div>
                <label class="required">‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª‡∂∫</label><textarea id="inDesc" rows="2"></textarea>
                <button class="btn" style="margin-top:20px; width:100%; background: var(--success); color:white;" id="btn-save-in" onclick="saveData('IN')">
                    <i class="fas fa-save"></i>   ‡∂Ω‡∑ê‡∂∂‡∑ì‡∂∏ ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä‡∂ú‡∂≠ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±
                </button>
            </div>
            <div class="card field" style="border-top: 8px solid var(--danger); flex: 1; min-width: 300px;">
                <h3 style="color:var(--danger); margin-top: 0;"><i class="fas fa-minus-circle"></i> ‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ä (‡∂∂‡∑ê‡∂ª)</h3>
                <div style="background: #ffebee; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <p style="margin: 0; font-size: 14px; color: #c62828;">‚ö†Ô∏è ‡∑É‡∑í‡∂∫‡∑Ö‡∑î‡∂∏ ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±...</p>
                </div>
                <input type="hidden" id="edit-id-ex">
                <div class="form-row">
                    <div class="field"><label class="required">‡∂Ø‡∑í‡∂±‡∂∫</label><input type="date" id="exDate"></div>
                    <div class="field"><label class="required">‡∑Ä‡∑Ä‡∑î‡∂†‡∂ª‡∑ä ‡∂Ö‡∂Ç‡∂ö‡∂∫</label><input type="text" id="exVoucher"></div>
                </div>
                <div class="form-row">
                    <div class="field"><label>‡∂†‡∑ô‡∂ö‡∑ä‡∂¥‡∂≠‡∑ä ‡∂Ö‡∂Ç‡∂ö‡∂∫</label><input type="text" id="exRef"></div>
                    <div class="field"><label class="required">‡∂∏‡∑î‡∂Ø‡∂Ω (‡∂ª‡∑î.)</label><input type="text" id="exAmt" class="amount-input" pattern="[0-9]*\.?[0-9]{0,2}" oninput="formatAmount(this)"></div>
                </div>
                <div class="form-row">
                    <div class="field"><label class="required">‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ä ‡∂ö‡∑ö‡∂≠‡∂∫</label><select id="exCodeSelect"></select></div>
                    <div class="field"><label class="required">‡∂∏‡∑ñ‡∂Ω‡∑è‡∑Å‡∑ä‚Äç‡∂ª ‡∂Ö‡∂ª‡∂∏‡∑î‡∂Ø‡∂Ω</label><select id="exSourceSelect"></select></div>
                </div>
                <div class="field" style="margin-bottom: 15px;"><label>‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑ò‡∂≠‡∑í‡∂∫</label><select id="exProjSelect"></select></div>
                <label class="required">‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª‡∂∫</label><textarea id="exDesc" rows="2"></textarea>
                <button class="btn" style="margin-top:20px; width:100%; background: var(--danger); color:white;" id="btn-save-ex" onclick="saveData('EX')">
                    <i class="fas fa-save"></i>   ‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏ ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä‡∂ú‡∂≠ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±
                </button>
            </div>
        </div>
        
        <div class="card admin-only">
            <h4 style="color:var(--primary); text-align: center; border-bottom: 2px solid #eee; padding-bottom: 10px;"><i class="fas fa-cog"></i>   ‡∂¥‡∂ª‡∑í‡∂¥‡∑è‡∂Ω‡∂± ‡∑É‡∑ê‡∂ö‡∑É‡∑î‡∂∏‡∑ä (Admin Only)</h4>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                <div style="border-right: 1px solid #eee; padding-right: 20px;">
                    <label><b>‡∂Ü‡∂ª‡∂∏‡∑ä‡∂∑‡∂ö ‡∑Å‡∑ö‡∑Ç‡∂∫‡∂±‡∑ä</b></label>
                    <div class="field"><label class="required">‡∂Ö‡∂ª‡∂∏‡∑î‡∂Ø‡∂Ω</label><select id="opCodeSelect"></select></div>
                    <div class="field"><label class="required">‡∂∏‡∑î‡∂Ø‡∂Ω</label><input type="text" id="opAmt" class="amount-input" pattern="[0-9]*\.?[0-9]{0,2}" oninput="formatAmount(this)"></div>
                    <button class="btn" style="margin-top:10px; width:100%; background: var(--accent); color: var(--primary);" onclick="saveOpening()">
                        <i class="fas fa-edit"></i> ‡∑Å‡∑ö‡∑Ç‡∂∫ ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±
                    </button>
                </div>
                <div>
                    <label><b>‡∑Ä‡∑è‡∂ª‡∑ä‡∑Ç‡∑í‡∂ö ‡∂Ö‡∂∫‡∑Ä‡∑ê‡∂∫ ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∑è‡∂Ø‡∂±</b></label>
                    <div class="field"><label class="required">‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ä ‡∂ö‡∑ö‡∂≠‡∂∫</label><select id="allocCodeSelect"></select></div>
                    <div class="field"><label class="required">‡∑Ä‡∑ô‡∂±‡∑ä‡∂ö‡∂ª‡∂± ‡∂Ω‡∂Ø ‡∂∏‡∑î‡∂Ø‡∂Ω</label><input type="text" id="allocAmt" class="amount-input" pattern="[0-9]*\.?[0-9]{0,2}" oninput="formatAmount(this)"></div>
                    <button class="btn" style="margin-top:10px; width:100%; background: var(--purple); color: white;" onclick="saveAllocation()">
                        <i class="fas fa-hand-holding-usd"></i> ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∑è‡∂Ø‡∂± ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä‡∂ú‡∂≠ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±
                    </button>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 style="border-bottom: 2px solid #eee; padding-bottom: 10px;"><i class="fas fa-history"></i> ‡∂∏‡∑ë‡∂≠‡∂ö‡∑è‡∂Ω‡∑ì‡∂± ‡∂ú‡∂±‡∑î‡∂Ø‡∑ô‡∂±‡∑î</h3>
            <div id="recent-transactions-table" style="margin-top: 20px;"></div>
        </div>
    </div>
<div id="sec-codes" class="section" style="display:none;">
    <h2 class="section-title">‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä ‡∂ö‡∑ö‡∂≠ ‡∑É‡∑Ñ ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª</h2>
    <div class="form-row">
        <div class="card field" style="border-top: 5px solid var(--primary);">
            <h3 style="color:var(--primary);">
                <i class="fas fa-money-check-alt"></i> ‡∂Ω‡∑ê‡∂∂‡∑ì‡∂∏‡∑ä ‡∂ö‡∑ö‡∂≠ (S Codes)
            </h3>
            <div id="codes-s" class="code-tag-container"></div>
        </div>
        <div class="card field" style="border-top: 5px solid var(--danger);">
            <h3 style="color:var(--danger);">
                <i class="fas fa-money-bill-wave"></i> ‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ä ‡∂ö‡∑ö‡∂≠ (REx / CEx Codes)
            </h3>
            <div id="codes-ex" class="code-tag-container"></div>
        </div>
    </div>
</div>
    <div id="sec-proj" class="section" style="display:none;">
        <h2 class="section-title">‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑ò‡∂≠‡∑í ‡∂ö‡∑Ö‡∂∏‡∂±‡∑è‡∂ö‡∂ª‡∂´‡∂∫</h2>
        <div class="card">
            <div class="form-row">
                <input type="hidden" id="edit-proj-id">
                <div class="field"><label class="required">‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑ò‡∂≠‡∑í‡∂∫‡∑ö ‡∂±‡∂∏</label><input type="text" id="projName"></div>
                <div class="field"><label class="required">‡∂á‡∑É‡∑ä‡∂≠‡∂∏‡∑ö‡∂±‡∑ä‡∂≠‡∑î‡∂ú‡∂≠ ‡∂∏‡∑î‡∂Ø‡∂Ω (‡∂ª‡∑î.)</label><input type="text" id="projEst" class="amount-input" pattern="[0-9]*\.?[0-9]{0,2}" oninput="formatAmount(this)"></div>
                <button class="btn" style="align-self: flex-end; background: var(--primary); color: var(--gold);" onclick="saveProject()">
                    <i class="fas fa-save"></i> ‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑ò‡∂≠‡∑í‡∂∫ ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä‡∂ú‡∂≠ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±
                </button>
            </div>
        </div>
        <div class="card"><div id="project-list-table"></div></div>
        <div id="proj-detail-view" class="card" style="display:none; border-top: 5px solid var(--primary);">
            <h3 id="detail-proj-name" style="color:var(--primary);"></h3>
            <div id="project-expenses-list"></div>
            <button class="btn" style="margin-top:20px; background:#95a5a6; color:white;" onclick="document.getElementById('proj-detail-view').style.display='none'">
                <i class="fas fa-arrow-left"></i> ‡∂Ü‡∂¥‡∑É‡∑î
            </button>
        </div>
    </div>

  <span class="footer-credit no-print" style="
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    gap: 15px;
    color: #999;
    padding: 20px;
    background: linear-gradient(135deg, rgba(27, 94, 32, 0.05) 0%, rgba(46, 125, 50, 0.05) 100%);
    border-radius: 25px;
    margin: 20px;
    flex-wrap: wrap;
    border: 1px solid rgba(27, 94, 32, 0.1);
    font-size: 12px; /* ‡∂∏‡∑ô‡∂∫ ‡∂ë‡∂ö‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂± */
">
    <span style="font-weight: 900;">‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í ‡∂±‡∑í‡∂ª‡∑ä‡∂∏‡∑è‡∂´‡∂∫ ‡∑Ñ‡∑è ‡∂ö‡∑Ö‡∂∏‡∂±‡∑è‡∂ö‡∂ª‡∂´ :</span>
    <a href="https://wa.me/94777944308?text=‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫ ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥ ‡∑Ä‡∑í‡∂∏‡∑É‡∑ì‡∂∏‡∂ö‡∑ä" 
       style="color: var(--primary); text-decoration: none; font-weight: bold; padding: 5px 15px; background: rgba(27, 94, 32, 0.1); border-radius: 8px;">
       ‡∂≠‡∂ª‡∂Ç‡∂ú ‡∑Ä‡∑í‡∂¢‡∑ö‡∑É‡∑í‡∂Ç‡∑Ñ
    </a>
    <span style="color: #ccc;">|</span>
    <a href="tel:+94777944308" style="color: var(--primary); text-decoration: none; padding: 5px 15px; background: rgba(46, 204, 113, 0.1); border-radius: 8px;">
        0777944308
    </a>
</span>
</div>

<!-- External JavaScript Libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/luxon@3.3.0/build/global/luxon.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
<script src="https://cdn.sheetjs.com/xlsx-0.19.3/package/dist/xlsx.full.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

<!-- Custom JavaScript -->
<script src="app.js"></script>
</body>
</html>